(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3353:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4274)}])},4274:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return eL}});var n=t(1527),a=t(6545);function l(){return a.AT.Now.instant().toZonedDateTimeISO(a.AT.Now.timeZoneId())}let i={formatDate:function(e,r){return a.AT.PlainDate.from(e).toLocaleString(r)},formatDay:function(e){return String(a.AT.PlainDate.from(e).day).padStart(2,"0")},current:l,currentYear:function(){return l().year},currentMonth:function(){return l().month},formatMonth:function(e,r,t){return a.AT.PlainDate.from("2000-".concat(String(e).padStart(2,"0"),"-01")).toLocaleString(r,{month:t}).toLocaleLowerCase().replace(".","")},formatMonths:function(e,r){function t(t){return t.toLocaleString(e,{month:r}).toLocaleLowerCase().replace(".","")}return[t(a.AT.PlainDate.from("2000-01-01")),t(a.AT.PlainDate.from("2000-02-01")),t(a.AT.PlainDate.from("2000-03-01")),t(a.AT.PlainDate.from("2000-04-01")),t(a.AT.PlainDate.from("2000-05-01")),t(a.AT.PlainDate.from("2000-06-01")),t(a.AT.PlainDate.from("2000-07-01")),t(a.AT.PlainDate.from("2000-08-01")),t(a.AT.PlainDate.from("2000-09-01")),t(a.AT.PlainDate.from("2000-10-01")),t(a.AT.PlainDate.from("2000-11-01")),t(a.AT.PlainDate.from("2000-12-01"))]},formatWeekDays:function(e,r){function t(t){return t.toLocaleString(e,{weekday:r}).toLocaleLowerCase().replace(".","")}return[t(a.AT.PlainDate.from("2000-10-01")),t(a.AT.PlainDate.from("2000-10-02")),t(a.AT.PlainDate.from("2000-10-03")),t(a.AT.PlainDate.from("2000-10-04")),t(a.AT.PlainDate.from("2000-10-05")),t(a.AT.PlainDate.from("2000-10-06")),t(a.AT.PlainDate.from("2000-10-07"))]}},o={isCurrent:function(e){let{year:r,month:t}=e,n=i.current();return r===n.year&&t===n.month},isDateIn:function(e,r){let{year:t,month:n}=e,l=a.AT.PlainDate.from({year:t,month:n,day:1}),i=a.AT.PlainDate.from(r);return l.year===i.year&&l.month===i.month},toPeriod:function(e){let{year:r,month:t}=e,n=a.AT.PlainDate.from({year:r,month:t,day:1}),l=n.toString(),i=a.AT.PlainDate.from({year:r,month:t,day:n.daysInMonth}).toString();return[l,i]},toTable:function(e){let{year:r,month:t}=e,n=a.AT.PlainDate.from({year:r,month:t,day:1});return Array(6).fill(Array(7).fill(void 0)).map((e,r)=>e.map((e,t)=>{let a=7*r+t-n.dayOfWeek;return n.add({days:a}).toString()}))}};var d=t(638);let s={fromForm:function(e){return{id:e.id,name:e.name,day:e.day,begin:e.begin,end:e.end,frequency:e.repeats?e.frequency:void 0,weekendRepeat:e.weekendRepeat}},toForm:function(e){return{...e,repeats:void 0!==e.frequency}},toEvent:function(e){return{id:e.id||(0,d.x0)(32),name:e.name,day:e.day,begin:e.begin,end:e.end,category:"APPOINTMENT",frequency:e.frequency,weekendRepeat:e.weekendRepeat}}},c={toEvent:function(e){return{id:e.id||(0,d.x0)(32),name:e.name,day:e.day,begin:"00:00",end:"23:59",category:"BIRTHDAY",frequency:"1Y",weekendRepeat:!1}}},u={toEvent:function(e){return{id:e.id||(0,d.x0)(32),name:e.name,day:e.day,begin:e.begin,end:e.end,category:"DATE",frequency:void 0,weekendRepeat:!1}}},f={fromForm:function(e){return{id:e.id,name:e.name,day:e.day,begin:e.begin,end:e.end,frequency:e.repeats?e.frequency:void 0,weekendRepeat:e.weekendRepeat}},toForm:function(e){return{...e,repeats:void 0!==e.frequency}},toEvent:function(e){return{id:e.id||(0,d.x0)(32),name:e.name,day:e.day,begin:e.begin,end:e.end,category:"MEETING",frequency:e.frequency,weekendRepeat:e.weekendRepeat}}},x={toEvent:function(e){return{id:e.id||(0,d.x0)(32),name:e.name,day:e.day,begin:e.begin,end:e.end,category:"PARTY",frequency:void 0,weekendRepeat:!1}}};var m=t(6441);let h={getOnCalendar:function(e,r){let t=new Map;return e.forEach(e=>{let n=function(e,r,t){var n;let a,l,i=[];if(1===m.AT.PlainDate.compare(e.d,t)||(1===m.AT.PlainDate.compare(e.d,r)?i.push(l=e.d):l=function(e,r){let t=m.AT.PlainDate.from(e.d),n=m.AT.PlainDate.from(r).subtract({days:1});if(1===m.AT.PlainDate.compare(t,n))return;let a=t.until(n,{largestUnit:"days"}).days,l=t.until(n,{largestUnit:"weeks"}).weeks,i=t.until(n,{largestUnit:"months"}).months,o=t.until(n,{largestUnit:"years"}).years;switch(e.freq){case"1D":return t.add({days:a}).toString();case"2D":return t.add({days:a-a%2}).toString();case"1W":return t.add({weeks:l}).toString();case"1M":return t.add({months:i}).toString();case"3M":return t.add({months:i-i%3}).toString();case"6M":return t.add({months:i-i%6}).toString();case"1Y":return t.add({years:o}).toString();case"2Y":return t.add({years:o-o%2}).toString();case void 0:return}}(e,r),!l))return i;let o=(n={d:l,freq:e.freq},a=0,{next(){a++;let e=function(e,r=1){let t=m.AT.PlainDate.from(e.d);switch(e.freq){case"1D":return t.add({days:1*r}).toString();case"2D":return t.add({days:2*r}).toString();case"1W":return t.add({days:7*r}).toString();case"1M":return t.add({months:1*r}).toString();case"3M":return t.add({months:3*r}).toString();case"6M":return t.add({months:6*r}).toString();case"1Y":return t.add({years:1*r}).toString();case"2Y":return t.add({years:2*r}).toString();case void 0:return}}(n,a);return{done:!1,value:e}},[Symbol.iterator](){return this}}),d=o.next().value;for(;void 0!==d&&1>m.AT.PlainDate.compare(d,t);)i.push(d),d=o.next().value;return i}({d:e.day,freq:e.frequency},...o.toPeriod(r));n.forEach(r=>{let n=t.get(r);t.set(r,(n||[]).concat(e.id))})}),t}};var b=t(8637);let g=(0,b.Ue)(e=>({year:i.currentYear(),month:i.currentMonth(),selectedDate:void 0,toggleSelectedDate:r=>e(e=>({selectedDate:e.selectedDate!==r?r:void 0})),removeSelectedDate:()=>e({selectedDate:void 0}),setCurrentMonth:()=>e({year:i.currentYear(),month:i.currentMonth()}),next:()=>e(e=>12===e.month?{year:e.year+1,month:1}:{month:e.month+1}),prev:()=>e(e=>1===e.month?{year:e.year-1,month:12}:{month:e.month-1})}));var j=t(959),p=t(8202);function v(e){let{children:r,disabled:t,selectable:a,size:l,color:i}=e;return(0,n.jsx)("span",{className:(0,p.cl)("transition-colors duration-100","text-ellipsis whitespace-nowrap overflow-hidden",a?"":"select-none",{"text-xs":"xs"===l,"text-sm":"sm"===l,"text-lg":"lg"===l,"text-xl":"xl"===l,"text-2xl":"2xl"===l,"text-3xl":"3xl"===l},{"text-white":"white"===i,"text-drk-dk dark:text-pastel-gray":!i,"text-gray-500 dark:text-gray-500":!0===t}),children:r})}function y(e){let{onClick:r,children:t}=e;return(0,n.jsx)("button",{onClick:r,className:(0,p.cl)("text-white text-center cursor-pointer py-1 px-2 rounded","hover:bg-prm-lg active:bg-prm-lg2","dark:hover:bg-prm dark:active:bg-prm-lg","transition-colors duration-100"),children:t})}var k=t(6271);function w(e){let{name:r,color:t="prm",colorDark:a="prm",size:l=6}=e,i=(0,p.cl)("transition-colors duration-100",{"w-6 h-6":6===l,"w-9 h-9":9===l,"w-14 h-14":14===l,"w-20 h-20":20===l},{"fill-white":"white"===t,"fill-gray-500":"gray"===t,"fill-red-500":"red"===t,"fill-green-600":"green"===t,"fill-prm":"prm"===t},{"dark:fill-white":"white"===a,"dark:fill-gray-500":"gray"===a,"dark:fill-red-500":"red"===a,"dark:fill-green-600":"green"===a,"dark:fill-prm":"prm"===a}),o={className:i};switch(r){case"x":return(0,n.jsx)(k.czh,{...o});case"v":return(0,n.jsx)(k.hXj,{...o});case"<":return(0,n.jsx)(k.gbs,{...o});case">":return(0,n.jsx)(k.lU2,{...o});case"info":return(0,n.jsx)(k.Fs0,{...o});case"pencil":return(0,n.jsx)(k.n2B,{...o});case"trash":return(0,n.jsx)(k.SW4,{...o});case"calendar-plus":return(0,n.jsx)(k.n8v,{...o})}}function N(e){let{onClick:r,title:t,children:a}=e;return(0,n.jsx)("button",{onClick:r,title:t,className:(0,p.cl)("rounded-full","hover:bg-prm-lg active:bg-prm-lg2","dark:hover:bg-prm dark:active:bg-prm-lg","transition-colors duration-100"),children:a})}function T(e){let{onClick:r,title:t,icon:a,size:l,color:i="white"}=e;return(0,n.jsx)(N,{onClick:r,title:t,children:(0,n.jsx)("div",{className:"box-content p-2",children:(0,n.jsx)(w,{name:a,size:l,color:i,colorDark:i})})})}var D=t(5951);function E(e){let{value:r,onChange:t,display:a}=e;return(0,n.jsx)("div",{onClick:()=>t(!r),className:(0,p.cl)("cursor-pointer select-none","border w-16 h-8 rounded-2xl ","border-transparent","transition-all duration-100",{"bg-prm":r,"bg-gray-300 dark:bg-drk-dk":!r}),children:(0,n.jsx)("div",{className:(0,p.cl)("flex justify-center items-center","bg-pastel-gray border-gray-500 w-6 h-6 rounded-2xl","transition-all duration-100","relative top-[3px]",{"left-[35px]":r,"left-[3px]":!r}),children:r&&(null==a?void 0:a.on)?a.on:!r&&(null==a?void 0:a.off)?a.off:null})})}function C(e){let{left:r}=e,[t,a]=function(){let[e,r]=(0,j.useState)("light");(0,j.useEffect)(()=>{r(D.r.get())},[]);let t=(0,j.useCallback)(()=>{let t="dark"===e?"light":"dark";D.r.set(t),r(t)},[e]);return[e,t]}();return(0,n.jsxs)("header",{className:(0,p.cl)("flex w-full flex-shrink-0 justify-between px-2 h-12","bg-prm dark:bg-prm-dk","transition-colors duration-100"),children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:r}),(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsx)("div",{className:"w-16",children:(0,n.jsx)(E,{value:"dark"===t,onChange:a,display:{on:"\uD83C\uDF11",off:"☀️"}})})})]})}var A=t(5276),P=t(5498);let S=(0,b.Ue)((0,P.tJ)(e=>({events:[],add:r=>e(e=>{let{events:t}=e;return{events:t.concat(r)}}),update:r=>e(e=>{let{events:t}=e;return{events:t.filter(e=>e.id!==r.id).concat(r)}}),remove:r=>e(e=>{let{events:t}=e;return{events:t.filter(e=>e.id!==r)}})}),{name:"@PS/events",storage:(0,P.FL)(()=>window.localStorage)}));function R(){let[e,r]=(0,j.useState)(new Map),{year:t,month:n}=g(),{events:a}=S();(0,j.useEffect)(()=>{a.length&&r(h.getOnCalendar(a,{year:t,month:n}))},[a,t,n]);let l=(0,j.useCallback)(r=>e.get(r)||[],[e]);return{getDateEvents:l}}let q={isMobile:function(e){return e.width<=500}};function M(){let e=(0,A.iP)(),r=(0,j.useCallback)(()=>q.isMobile(e),[e]);return{isMobile:r}}function I(e){let{children:r}=e,t=M().isMobile();return t?(0,n.jsx)("div",{className:"flex flex-initial overflow-hidden w-full h-full",children:(0,n.jsx)("div",{className:"flex flex-grow-0",children:(0,n.jsx)("div",{className:"flex flex-grow w-screen flex-col",children:r})})}):(0,n.jsx)("div",{className:"flex flex-col overflow-hidden w-full h-full",children:r})}function Y(e){let{calendar:r,date:t,dateEvents:a}=e,{toggleSelectedDate:l}=g(),{events:d}=S();return o.isDateIn(r,t)?(0,n.jsxs)("div",{className:(0,p.cl)("w-full h-full","flex flex-col flex-1","rounded cursor-pointer overflow-hidden","hover:bg-prm-lg2 active:bg-prm-lg","dark:hover:bg-prm-dk2 dark:active:bg-prm-dk"),onClick:()=>l(t),children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(v,{size:"xl",children:i.formatDay(t)})}),(0,n.jsx)("div",{className:"flex flex-col gap-1",children:a.map(e=>{var r;return(0,n.jsx)("div",{children:(0,n.jsx)(v,{size:"xs",children:null===(r=d.find(r=>r.id===e))||void 0===r?void 0:r.name})},e)})})]}):(0,n.jsx)("div",{className:(0,p.cl)("w-full h-full","flex flex-col flex-1","overflow-hidden text-center bg-gray-200 dark:bg-drk-dk3","transition-colors duration-100"),children:(0,n.jsx)(v,{size:"xl",disabled:!0,children:i.formatDay(t)})})}function F(){let{year:e,month:r}=g(),t={year:e,month:r},{getDateEvents:a}=R(),{height:l}=(0,A.iP)(),d=function(){let[e,r]=(0,j.useState)(["1","2","3","4","5","6","7"]),t=M().isMobile();return(0,j.useEffect)(()=>{r(i.formatWeekDays(window.navigator.language,t?"short":"long"))},[t]),e}();return(0,n.jsxs)(I,{children:[(0,n.jsx)("div",{className:"grid h-6",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:d.map(e=>(0,n.jsx)(v,{children:(0,n.jsx)("div",{className:"select-none text-center font-bold m-auto capitalize",children:e})},e))}),(0,n.jsx)("div",{className:"w-full h-full",style:{height:"calc(".concat(l,"px - 4.5rem)")},children:(0,n.jsx)("div",{className:"grid w-full h-full",style:{gridTemplateRows:"repeat(6, 1fr)"},children:o.toTable(t).map((e,r)=>(0,n.jsx)("div",{className:"grid min-h-0",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:e.map(e=>(0,n.jsx)(Y,{calendar:t,date:e,dateEvents:a(e)},e))},r))})})]})}var L=t(5005),B=t(1038);function O(e){let{onClick:r,title:t,children:a}=e;return(0,n.jsx)("button",{onClick:r,title:t,className:(0,p.cl)("flex rounded-md","hover:bg-gray-200 active:bg-gray-300","dark:hover:bg-drk-dk dark:active:bg-drk"),children:a})}function z(e){let{onClick:r,title:t,icon:a,size:l,color:i="gray"}=e;return(0,n.jsx)(O,{onClick:r,title:t,children:(0,n.jsx)("div",{className:"box-content p-2",children:(0,n.jsx)(w,{name:a,size:l,color:i,colorDark:i})})})}function _(e){let{children:r,title:t,onClick:a,className:l,form:i,type:o}=e;return(0,n.jsx)("button",{type:o,title:t,onClick:a,form:i,className:(0,p.cl)("h-20 rounded w-full text-lg","transition-colors duration-100",l),children:r})}function U(e){let{children:r,title:t}=e;return(0,n.jsx)(_,{type:"button",title:t,className:"cursor-not-allowed text-white bg-gray-300 dark:bg-gray-800",children:r})}function W(e){let{children:r,title:t,onClick:a}=e;return(0,n.jsx)(_,{type:"button",title:t,onClick:a,className:(0,p.cl)("text-prm","bg-gray-200 hover:bg-gray-300 active:bg-gray-400","dark:bg-drk-lg dark:hover:bg-drk-dk dark:active:bg-drk-dk2"),children:r})}function V(e){let{children:r,title:t,onClick:a,form:l}=e;return(0,n.jsx)(_,{type:"submit",title:t,onClick:a,form:l,className:(0,p.cl)("text-white","bg-prm hover:bg-prm-dk active:bg-prm-dk2","dark:bg-prm-dk dark:hover:bg-prm-dk2 dark:active:bg-prm-dk3"),children:r})}function G(e){let{type:r="PRIMARY",onClick:t,children:a,title:l,form:i}=e;switch(r){case"PRIMARY":return(0,n.jsx)(V,{title:l,onClick:t,form:i,children:a});case"SECONDARY":return(0,n.jsx)(W,{title:l,onClick:t,children:a});case"DISABLED":return(0,n.jsx)(U,{title:l,children:a})}}var H=t(422);function X(e){let{children:r,title:t,formId:a,onCancel:l,onConfirm:i,confirmLabel:o,hideConfirm:d}=e,s=M().isMobile();return(0,n.jsx)("div",{className:"fixed w-full h-full bg-block-dark dark:bg-block-light",children:(0,n.jsxs)("div",{className:(0,p.cl)("flex flex-col absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2","bg-pastel-gray dark:bg-drk rounded overflow-hidden",s?"w-full h-full":"w-120 max-w-4/5"),children:[(0,n.jsx)("div",{className:"py-5 px-7 break-all bg-prm",children:(0,n.jsx)(v,{size:"2xl",color:"white",selectable:!0,children:t})}),(0,n.jsx)("div",{className:"flex-1 overflow-auto p-3",children:r}),(0,n.jsxs)("div",{className:(0,p.cl)(s?"flex-col-reverse p-4 gap-4":"p-2 justify-end gap-2","flex border-t border-gray-300 dark:border-gray-500"),children:[(0,n.jsx)(G,{onClick:l,type:"SECONDARY",children:"CANCEL"}),d?null:(0,n.jsx)(G,{onClick:i,form:a,children:o||"CONFIRM"})]})]})})}function Z(e){let{children:r,visible:t,...a}=e;if(!t)return null;let l=document.getElementById("modal");return l?H.createPortal((0,n.jsx)(X,{...a,children:r}),l):null}var J=t(4924);function K(e){let{name:r,title:t,children:a,hidden:l}=e;return(0,n.jsxs)("div",{className:(0,p.cl)("flex flex-col flex-1 py-1",l?"hidden":""),children:[(0,n.jsx)("label",{className:"py-1",htmlFor:r,children:(0,n.jsx)(v,{children:t})}),a]})}function Q(e){let{children:r}=e;return(0,n.jsx)("div",{className:"flex gap-x-3",children:r})}function $(e){let{forwardedRef:r,...t}=e;return(0,n.jsx)("input",{...t,ref:r,type:"text",className:(0,p.cl)("py-1 px-2 rounded-md text-base w-full box-border h-10 min-w-0","border border-gray-500 disabled:cursor-not-allowed","bg-pastel-gray dark:bg-drk dark:text-pastel-gray","disabled:bg-gray-200 dark:disabled:bg-drk-dk","transition-colors duration-100")})}let ee=(0,j.forwardRef)((e,r)=>(0,n.jsx)($,{...e,forwardedRef:r}));function er(e){let{forwardedRef:r,options:t,...a}=e;return(0,n.jsx)("select",{...a,ref:r,className:(0,p.cl)("py-1 px-2 rounded-md text-base w-full box-border h-10 min-w-0","border border-gray-500 disabled:cursor-not-allowed","bg-pastel-gray dark:bg-drk dark:text-pastel-gray","disabled:bg-gray-200 dark:disabled:bg-drk-dk","transition-colors duration-100"),children:t.map(e=>(0,n.jsx)("option",{value:e.id,children:e.label},e.id))})}let et=(0,j.forwardRef)((e,r)=>(0,n.jsx)(er,{...e,forwardedRef:r}));function en(e){let{forwardedRef:r,...t}=e;return(0,n.jsx)("input",{...t,ref:r,type:"date",className:(0,p.cl)("py-1 px-2 rounded-md text-base w-full box-border h-10 min-w-0","border border-gray-500 disabled:cursor-not-allowed","bg-pastel-gray dark:bg-drk dark:text-pastel-gray","disabled:bg-gray-200 dark:disabled:bg-drk-dk","transition-colors duration-100")})}let ea=(0,j.forwardRef)((e,r)=>(0,n.jsx)(en,{...e,forwardedRef:r}));function el(e){let{forwardedRef:r,...t}=e;return(0,n.jsx)("input",{...t,ref:r,type:"time",className:(0,p.cl)("py-1 px-2 rounded-md text-base w-full box-border h-10 min-w-0","border border-gray-500 disabled:cursor-not-allowed","bg-pastel-gray dark:bg-drk dark:text-pastel-gray","disabled:bg-gray-200 dark:disabled:bg-drk-dk","transition-colors duration-100")})}let ei=(0,j.forwardRef)((e,r)=>(0,n.jsx)(el,{...e,forwardedRef:r}));function eo(e){let{forwardedRef:r,...t}=e;return(0,n.jsxs)("label",{className:"relative inline-block w-20 h-10",children:[(0,n.jsx)("input",{...t,ref:r,type:"checkbox",className:"opacity-0 w-0 h-0 peer"}),(0,n.jsx)("span",{className:(0,p.cl)("absolute top-0 left-0 bottom-0 right-0","rounded-full","border border-gray-500","bg-gray-300 dark:bg-drk","transition-all duration-100","before:absolute","before:h-7 before:w-7","before:top-[5px]","before:left-[6px]","before:bg-white","before:rounded-full","before:transition-all before:duration-100","peer-disabled:before:bg-gray-400 peer-disabled:bg-gray-200","peer-disabled:before:dark:bg-drk-lg2 peer-disabled:dark:bg-drk-dk","peer-checked:bg-prm peer-checked:border-prm","peer-disabled:border-gray-500","peer-checked:before:left-[45px]","cursor-pointer peer-disabled:cursor-not-allowed")})]})}let ed=(0,j.forwardRef)((e,r)=>(0,n.jsx)(eo,{...e,forwardedRef:r})),es=[{id:"1D",label:"Everyday"},{id:"2D",label:"Every other day"},{id:"1W",label:"Every week"},{id:"1M",label:"Every month"},{id:"3M",label:"Every three months"},{id:"6M",label:"Every 6 months"},{id:"1Y",label:"Every year"},{id:"2Y",label:"Every 2 years"}];function ec(e){switch(e){case"APPOINTMENT":return"AppointmentForm";case"BIRTHDAY":return"BirthdayForm";case"DATE":return"DateForm";case"MEETING":return"MeetingForm";case"PARTY":return"PartyForm"}}function eu(e){let{event:r,disabled:t,onSubmit:a}=e,{register:l,handleSubmit:i,watch:o,setValue:d}=(0,J.cI)(r?{defaultValues:s.toForm(r)}:void 0),c=o("frequency"),u=o("repeats"),f=!c||["1D","2D"].includes(c);return(0,j.useEffect)(()=>{f||d("weekendRepeat",!1)},[c]),(0,n.jsxs)("form",{id:ec("APPOINTMENT"),onSubmit:function(e){a&&i(e=>{a(s.fromForm(e))})(e)},children:[(0,n.jsx)(K,{name:"name",title:"Name",children:(0,n.jsx)(ee,{...l("name",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"day",title:"Day",children:(0,n.jsx)(ea,{...l("day",{required:!0,disabled:t})})}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"begin",title:"Begin",children:(0,n.jsx)(ei,{...l("begin",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"end",title:"End",children:(0,n.jsx)(ei,{...l("end",{required:!0,disabled:t})})})]}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"repeats",title:"Repeats",children:(0,n.jsx)(ed,{...l("repeats",{disabled:t})})}),(0,n.jsx)(K,{name:"weekendRepeat",title:"Repeats on weekend",hidden:!1===u,children:(0,n.jsx)(ed,{...l("weekendRepeat",{disabled:t||!f})})})]}),(0,n.jsx)(K,{name:"frequency",title:"Frequency",hidden:!1===u,children:(0,n.jsx)(et,{...l("frequency",{required:!0,disabled:t}),options:es})})]})}function ef(e){let{event:r,onClose:t}=e,{add:a}=S();return(0,n.jsx)(eu,{event:r,disabled:!1,onSubmit:function(e){a(s.toEvent(e)),t()}})}function ex(e){let{event:r,disabled:t,onSubmit:a}=e,{register:l,handleSubmit:i}=(0,J.cI)(r?{defaultValues:r}:void 0);return(0,n.jsxs)("form",{id:ec("BIRTHDAY"),onSubmit:a?i(a):void 0,children:[(0,n.jsx)(K,{name:"name",title:"Name",children:(0,n.jsx)(ee,{...l("name",{required:!0,disabled:t,value:null==r?void 0:r.name})})}),(0,n.jsx)(K,{name:"day",title:"Day",children:(0,n.jsx)(ea,{...l("day",{required:!0,disabled:t,value:null==r?void 0:r.day})})})]})}function em(e){let{event:r,onClose:t}=e,{add:a}=S();return(0,n.jsx)(ex,{event:r,disabled:!1,onSubmit:function(e){a(c.toEvent(e)),t()}})}function eh(e){let{event:r,disabled:t,onSubmit:a}=e,{register:l,handleSubmit:i}=(0,J.cI)(r?{defaultValues:r}:void 0);return(0,n.jsxs)("form",{id:ec("DATE"),onSubmit:a?i(a):void 0,children:[(0,n.jsx)(K,{name:"name",title:"Name",children:(0,n.jsx)(ee,{...l("name",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"day",title:"Day",children:(0,n.jsx)(ea,{...l("day",{required:!0,disabled:t})})}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"begin",title:"Begin",children:(0,n.jsx)(ei,{...l("begin",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"end",title:"End",children:(0,n.jsx)(ei,{...l("end",{required:!0,disabled:t})})})]})]})}function eb(e){let{event:r,onClose:t}=e,{add:a}=S();return(0,n.jsx)(eh,{event:r,disabled:!1,onSubmit:function(e){a(u.toEvent(e)),t()}})}function eg(e){let{event:r,disabled:t,onSubmit:a}=e,{register:l,handleSubmit:i,watch:o,setValue:d}=(0,J.cI)(r?{defaultValues:f.toForm(r)}:void 0),s=o("frequency"),c=o("repeats"),u=!s||["1D","2D"].includes(s);return(0,j.useEffect)(()=>{u||d("weekendRepeat",!1)},[s]),(0,n.jsxs)("form",{id:ec("MEETING"),onSubmit:function(e){a&&i(e=>{a(f.fromForm(e))})(e)},children:[(0,n.jsx)(K,{name:"name",title:"Name",children:(0,n.jsx)(ee,{...l("name",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"day",title:"Day",children:(0,n.jsx)(ea,{...l("day",{required:!0,disabled:t})})}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"begin",title:"Begin",children:(0,n.jsx)(ei,{...l("begin",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"end",title:"End",children:(0,n.jsx)(ei,{...l("end",{required:!0,disabled:t})})})]}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"repeats",title:"Repeats",children:(0,n.jsx)(ed,{...l("repeats",{disabled:t})})}),(0,n.jsx)(K,{name:"weekendRepeat",title:"Repeats on weekend",hidden:!1===c,children:(0,n.jsx)(ed,{...l("weekendRepeat",{disabled:t||!u})})})]}),(0,n.jsx)(K,{name:"frequency",title:"Frequency",hidden:!1===c,children:(0,n.jsx)(et,{...l("frequency",{required:!0,disabled:t}),options:es})})]})}function ej(e){let{event:r,onClose:t}=e,{add:a}=S();return(0,n.jsx)(eg,{event:r,disabled:!1,onSubmit:function(e){a(f.toEvent(e)),t()}})}function ep(e){let{event:r,disabled:t,onSubmit:a}=e,{register:l,handleSubmit:i}=(0,J.cI)(r?{defaultValues:r}:void 0);return(0,n.jsxs)("form",{id:ec("PARTY"),onSubmit:a?i(a):void 0,children:[(0,n.jsx)(K,{name:"name",title:"Name",children:(0,n.jsx)(ee,{...l("name",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"day",title:"Day",children:(0,n.jsx)(ea,{...l("day",{required:!0,disabled:t})})}),(0,n.jsxs)(Q,{children:[(0,n.jsx)(K,{name:"begin",title:"Begin",children:(0,n.jsx)(ei,{...l("begin",{required:!0,disabled:t})})}),(0,n.jsx)(K,{name:"end",title:"End",children:(0,n.jsx)(ei,{...l("end",{required:!0,disabled:t})})})]})]})}function ev(e){let{event:r,onClose:t}=e,{add:a}=S();return(0,n.jsx)(ep,{event:r,disabled:!1,onSubmit:function(e){a(x.toEvent(e)),t()}})}function ey(e){let{event:r,onClose:t}=e;switch(r.category){case"APPOINTMENT":return(0,n.jsx)(ef,{event:r,onClose:t});case"BIRTHDAY":return(0,n.jsx)(em,{event:r,onClose:t});case"DATE":return(0,n.jsx)(eb,{event:r,onClose:t});case"MEETING":return(0,n.jsx)(ej,{event:r,onClose:t});case"PARTY":return(0,n.jsx)(ev,{event:r,onClose:t})}}function ek(e){let{event:r,visible:t,onClose:a}=e;return(0,n.jsx)(Z,{visible:t,onCancel:a,title:"NEW ".concat(r.category),formId:ec(r.category),confirmLabel:"SAVE",children:(0,n.jsx)(ey,{event:r,onClose:a})})}function ew(e){let{date:r,visible:t,onClose:a}=e,[l,i]=(0,j.useState)(void 0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Z,{title:"NEW EVENT",visible:t,formId:"DateForm",onCancel:a,hideConfirm:!0,children:(0,n.jsxs)("div",{className:"flex flex-col p-5 gap-3",children:[(0,n.jsx)(G,{onClick:()=>{i("APPOINTMENT"),a()},children:"Appointment"}),(0,n.jsx)(G,{onClick:()=>{i("BIRTHDAY"),a()},children:"Birthday"}),(0,n.jsx)(G,{onClick:()=>{i("DATE"),a()},children:"Date"}),(0,n.jsx)(G,{onClick:()=>{i("MEETING"),a()},children:"Meeting"}),(0,n.jsx)(G,{onClick:()=>{i("PARTY"),a()},children:"Party"})]})}),void 0!==l?(0,n.jsx)(ek,{event:{category:l,day:r},visible:!0,onClose:()=>i(void 0)}):null]})}function eN(e){let{event:r}=e;switch(r.category){case"APPOINTMENT":return(0,n.jsx)(eu,{event:r,disabled:!0});case"BIRTHDAY":return(0,n.jsx)(ex,{event:r,disabled:!0});case"DATE":return(0,n.jsx)(eh,{event:r,disabled:!0});case"MEETING":return(0,n.jsx)(eg,{event:r,disabled:!0});case"PARTY":return(0,n.jsx)(ep,{event:r,disabled:!0})}}function eT(e){let{event:r,onClose:t}=e;return(0,n.jsx)(Z,{visible:!0,onCancel:t,title:r.name.toLocaleUpperCase(),hideConfirm:!0,children:(0,n.jsx)(eN,{event:r})})}function eD(e){let{event:r,onClose:t}=e,{update:a}=S();return(0,n.jsx)(eu,{event:r,disabled:!1,onSubmit:function(e){a(s.toEvent(e)),t()}})}function eE(e){let{event:r,onClose:t}=e,{update:a}=S();return(0,n.jsx)(ex,{event:r,disabled:!1,onSubmit:function(e){a(c.toEvent(e)),t()}})}function eC(e){let{event:r,onClose:t}=e,{update:a}=S();return(0,n.jsx)(eh,{event:r,disabled:!1,onSubmit:function(e){a(u.toEvent(e)),t()}})}function eA(e){let{event:r,onClose:t}=e,{update:a}=S();return(0,n.jsx)(eg,{event:r,disabled:!1,onSubmit:function(e){a(f.toEvent(e)),t()}})}function eP(e){let{event:r,onClose:t}=e,{update:a}=S();return(0,n.jsx)(ep,{event:r,disabled:!1,onSubmit:function(e){a(x.toEvent(e)),t()}})}function eS(e){let{event:r,onClose:t}=e;switch(r.category){case"APPOINTMENT":return(0,n.jsx)(eD,{event:r,onClose:t});case"BIRTHDAY":return(0,n.jsx)(eE,{event:r,onClose:t});case"DATE":return(0,n.jsx)(eC,{event:r,onClose:t});case"MEETING":return(0,n.jsx)(eA,{event:r,onClose:t});case"PARTY":return(0,n.jsx)(eP,{event:r,onClose:t})}}function eR(e){let{event:r,onClose:t}=e;return(0,n.jsx)(Z,{visible:!0,onCancel:t,title:'EDIT "'.concat(r.name.toLocaleUpperCase(),'"'),formId:ec(r.category),confirmLabel:"SAVE",children:(0,n.jsx)(eS,{event:r,onClose:t})})}function eq(e){let{event:r,onCancel:t}=e,{remove:a}=S();return(0,n.jsx)(Z,{visible:!0,onCancel:t,title:'DELETE "'.concat(r.name.toLocaleUpperCase(),'"'),onConfirm:function(){a(r.id),t()},children:(0,n.jsx)("div",{className:"py-5",children:(0,n.jsx)(v,{children:"This action can't be undone, are you sure?"})})})}function eM(e){let{evt:r}=e,[t,a]=(0,j.useState)(!1),[l,i]=(0,j.useState)(!1),[o,d]=(0,j.useState)(!1),{events:s}=S(),c=s.find(e=>e.id===r);return(0,n.jsxs)("div",{className:"flex justify-between items-center p-3",children:[(0,n.jsx)(v,{size:"lg",children:null==c?void 0:c.name}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(z,{onClick:()=>a(!0),icon:"info"}),t&&c?(0,n.jsx)(eT,{event:c,onClose:()=>a(!1)}):null,(0,n.jsx)(z,{onClick:()=>i(!0),icon:"pencil"}),l&&c?(0,n.jsx)(eR,{event:c,onClose:()=>i(!1)}):null,(0,n.jsx)(z,{onClick:()=>d(!0),icon:"trash"}),o&&c?(0,n.jsx)(eq,{event:c,onCancel:()=>d(!1)}):null]})]})}function eI(e){let{date:r,close:t}=e,a=M().isMobile(),[l,o]=(0,j.useState)(!1),{getDateEvents:d}=R(),{fmt:s}=function(){let[e,r]=(0,j.useState)(void 0);(0,j.useEffect)(()=>{r(window.navigator.language)},[]);let t=(0,j.useCallback)(r=>e?i.formatDate(r,e):"",[e]);return{fmt:t}}();return(0,n.jsxs)("div",{className:(0,p.cl)("flex flex-col flex-1 h-full",a?"w-screen":"w-100"),children:[(0,n.jsxs)("div",{className:(0,p.cl)("flex justify-between items-center","px-5 py-4","border-b border-gray-300 dark:border-gray-500","transition-colors duration-100"),children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(v,{size:"3xl",children:s(r)})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(z,{onClick:()=>o(!0),title:"Add event",icon:"calendar-plus",color:"prm",size:9}),(0,n.jsx)(z,{onClick:t,icon:"x",size:9})]})]}),(0,n.jsx)("div",{className:(0,p.cl)("flex-1 m-1 overflow-auto",{"w-screen":a}),children:d(r).map(e=>(0,n.jsx)(eM,{evt:e},e))}),(0,n.jsx)(ew,{date:r,visible:l,onClose:()=>o(!1)})]})}let eY=(0,L.C)({predictableActionArguments:!0,id:"sidebar",initial:"closed",states:{opened:{on:{close:"closing"}},closing:{on:{open:"opened",close:"closed"}},closed:{on:{open:"opened"}}}});function eF(){let[e,r]=(0,B.e)(eY),t=M().isMobile(),{selectedDate:a,removeSelectedDate:l}=g(),i=(0,j.useRef)(-1),[o,d]=(0,j.useState)(a);return(0,j.useEffect)(()=>{switch(e.value){case"opened":window.clearTimeout(i.current);break;case"closing":i.current=window.setTimeout(()=>r("close"),150);break;case"closed":d(void 0)}},[e]),(0,j.useEffect)(()=>{a?(d(a),"opened"!==e.value&&r("open")):r("close")},[a]),(0,n.jsx)("div",{className:(0,p.cl)("z-10 overflow-hidden flex flex-0-auto","bg-gray-100 dark:bg-drk-dk2","transition-all duration-100",{"w-100 border-l border-gray-300 dark:border-gray-500":a&&!t,"w-screen":a&&t,"w-0":!a}),children:(0,n.jsx)("div",{className:(0,p.cl)("flex flex-0",t?"w-screen":"w-100"),children:o?(0,n.jsx)(eI,{date:o,close:l}):null})})}function eL(){let{year:e,month:r,setCurrentMonth:t,prev:a,next:l}=g(),{fmt:d}=function(){let[e,r]=(0,j.useState)(void 0);(0,j.useEffect)(()=>{r(window.navigator.language)},[]);let t=(0,j.useCallback)(r=>e?i.formatMonth(r,e,"short"):"",[e]);return{fmt:t}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{left:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,n.jsx)(T,{onClick:a,title:"Previous month",icon:"<",color:"white"}),(0,n.jsx)(T,{onClick:l,title:"Next month",icon:">",color:"white"})]}),(0,n.jsx)(v,{size:"2xl",color:"white",children:(0,n.jsxs)("div",{className:"capitalize",children:[e," ",d(r)]})}),o.isCurrent({year:e,month:r})?null:(0,n.jsx)(y,{onClick:t,children:"Today"})]})}),(0,n.jsxs)("main",{className:"flex h-full overflow-hidden",children:[(0,n.jsx)(F,{}),(0,n.jsx)(eF,{})]})]})}}},function(e){e.O(0,[739,477,47,666,774,888,179],function(){return e(e.s=3353)}),_N_E=e.O()}]);