import{l as x,m as F,o as G,g as M,C as J,H as K,v as b,w as k,x as R,B as A,D as P,y as S,z as V,A as Q,F as B,G as U,I as W,J as D,K as C,L,M as X,N as Z,O as $,P as j,Q as ee,R as ae,T as re,V as ne,W as le}from"./l2PV5vIv.js";function ue(s,e){return e}function fe(s,e,r,u){for(var o=[],_=e.length,t=0;t<_;t++)$(e[t].e,o,!0);var h=_>0&&o.length===0&&r!==null;if(h){var v=r.parentNode;j(v),v.append(r),u.clear(),y(s,e[0].prev,e[_-1].next)}ee(o,()=>{for(var E=0;E<_;E++){var a=e[E];h||(u.delete(a.k),y(s,a.prev,a.next)),ae(a.e,!h)}})}function ve(s,e,r,u,o,_=null){var t=s,h={items:new Map,first:null};x&&F();var v=null,E=!1,a=J(()=>{var i=r();return U(i)?i:i==null?[]:B(i)});G(()=>{var i=M(a),n=i.length;if(E&&n===0)return;E=n===0;let d=!1;if(x){var f=t.data===K;f!==(n===0)&&(t=b(),k(t),R(!1),d=!0)}if(x){for(var T=null,g,l=0;l<n;l++){if(A.nodeType===8&&A.data===P){t=A,d=!0,R(!1);break}var c=i[l],I=u(c,l);g=Y(A,h,T,null,c,I,l,o,e,r),h.items.set(I,g),T=g}n>0&&k(b())}x||se(i,h,t,o,e,u,r),_!==null&&(n===0?v?S(v):v=V(()=>_(t)):v!==null&&Q(v,()=>{v=null})),d&&R(!0),M(a)}),x&&(t=A)}function se(s,e,r,u,o,_,t){var h=s.length,v=e.items,E=e.first,a=E,i,n=null,d=[],f=[],T,g,l,c;for(c=0;c<h;c+=1){if(T=s[c],g=_(T,c),l=v.get(g),l===void 0){var I=a?a.e.nodes_start:r;n=Y(I,e,n,n===null?e.first:n.next,T,g,c,u,o,t),v.set(g,n),d=[],f=[],a=n.next;continue}if(ie(l,T,c),l.e.f&C&&S(l.e),l!==a){if(i!==void 0&&i.has(l)){if(d.length<f.length){var m=f[0],p;n=m.prev;var H=d[0],w=d[d.length-1];for(p=0;p<d.length;p+=1)O(d[p],m,r);for(p=0;p<f.length;p+=1)i.delete(f[p]);y(e,H.prev,w.next),y(e,n,H),y(e,w,m),a=m,n=w,c-=1,d=[],f=[]}else i.delete(l),O(l,a,r),y(e,l.prev,l.next),y(e,l,n===null?e.first:n.next),y(e,n,l),n=l;continue}for(d=[],f=[];a!==null&&a.k!==g;)a.e.f&C||(i??(i=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;l=a}d.push(l),n=l,a=l.next}if(a!==null||i!==void 0){for(var N=i===void 0?[]:B(i);a!==null;)a.e.f&C||N.push(a),a=a.next;var q=N.length;if(q>0){var z=null;fe(e,N,z,v)}}L.first=e.first&&e.first.e,L.last=n&&n.e}function ie(s,e,r,u){Z(s.v,e),s.i=r}function Y(s,e,r,u,o,_,t,h,v,E){var a=(v&re)!==0,i=(v&ne)===0,n=a?i?W(o):D(o):o,d=v&X?D(t):t,f={i:d,v:n,k:_,a:null,e:null,prev:r,next:u};try{return f.e=V(()=>h(s,n,d,E),x),f.e.prev=r&&r.e,f.e.next=u&&u.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),u!==null&&(u.prev=f,u.e.prev=f.e),f}finally{}}function O(s,e,r){for(var u=s.next?s.next.e.nodes_start:r,o=e?e.e.nodes_start:r,_=s.e.nodes_start;_!==u;){var t=le(_);o.before(_),_=t}}function y(s,e,r){e===null?s.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{ve as e,ue as i};
